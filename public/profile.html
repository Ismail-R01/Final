<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5;">

<!-- Header -->
<div style="width: 100%; background: white; padding: 10px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1); position: fixed; top: 0; left: 0; right: 0;">
    <button id="home-btn" onclick="window.location.href='/'"
            style="background-color: #007BFF; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-size: 16px; margin: 0 auto; cursor: pointer;">
        Home
    </button>
    <button id="logout-btn" onclick="window.location.href='/logout'"
            style="background-color: #ff4d4d; color: white; border: none; padding: 10px 10px; border-radius: 5px; font-size: 16px; cursor: pointer;">
        Log Out
    </button>
</div>

<div style="display: flex; width: 80%; margin: 80px auto; gap: 20px;">

    <!-- Left Section: Profile Info -->
    <div style="width: 30%; padding: 20px;">
        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
            <h2>My Profile</h2>
            <p><strong>Username:</strong> <span id="username"></span></p>
            <p><strong>Email:</strong> <span id="email"></span></p>
            <button id="update-btn" onclick="toggleUpdateForm()"
                    style="background-color: gray; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-size: 16px; cursor: pointer;">
                Update Credentials
            </button>

            <!-- Update Form (Initially Hidden) -->
            <div id="update-form" style="display: none; background: white; padding: 20px; margin-top: 10px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
                <h3>Update Credentials</h3>
                <label for="email">New Email:</label>
                <input type="email" id="emailNew" placeholder="Enter new email" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px;">

                <label for="new-username">New Username:</label>
                <input type="text" id="new-username" placeholder="Enter new username" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px;">

                <button type="submit" style="background-color: blue; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-size: 16px; cursor: pointer;">
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Right Section: My Products -->
    <div style="width: 70%; padding: 20px;">
        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <h2>My Products</h2>
                <button id="add-product-btn" onclick="window.location.href='/addProduct.html'"
                        style="background-color: green; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-size: 16px; cursor: pointer;">
                    +
                </button>
            </div>
            <div id="products-container" style="display: flex; flex-wrap: wrap; gap: 15px;">
                <p>Loading your products...</p>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleUpdateForm() {
        var form = document.getElementById('update-form');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
</script>

<script src="profile.js"></script>
</body>
</html>